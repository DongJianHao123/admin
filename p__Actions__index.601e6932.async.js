(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[986],{62670:function(v,n,e){"use strict";e.r(n),e.d(n,{default:function(){return C}});var u=e(97983),a=e.n(u),h=e(40794),o=e.n(h),y=e(12741),p=e.n(y),i=e(4638),f=e(14971),P=e(43263),O=e(14653),j=e(57778),R=e(95855),b=e(44784),x=e(55241),A=e(96486),$=e(30381),M=e.n($),D=e(82990),c=e(85893),m=!1,d=[],r=function(t,T){var _=t.dataLength;return _-1===T?{colSpan:0}:{}},s=[{title:"\u5E8F\u53F7",dataIndex:"index",valueType:"index",align:"center",width:60,onCell:r},{title:"\u8BFE\u7A0B",dataIndex:"roomId",hideInTable:!0,search:!0,valueType:"select",request:j.tS},{title:"\u8BFE\u7A0B",dataIndex:"roomId",align:"center",search:!1,width:80,render:function(t){return(0,c.jsx)("span",{style:{wordBreak:"break-all",wordWrap:"break-word"},children:t})}},{title:"\u59D3\u540D",dataIndex:"userName",search:!0,align:"center",width:60,onCell:function(t,T){var _=t.dataLength;if(_-1===T)return{colSpan:4}}},{title:"\u89D2\u8272",dataIndex:"role",search:!0,valueType:"select",width:50,align:"center",fieldProps:{options:[{label:"\u8001\u5E08",value:"teacher"},{label:"\u5B66\u751F",value:"student"},{label:"\u52A9\u6559",value:"ta"}]}},{title:"\u624B\u673A\u53F7",search:!0,dataIndex:"userId",width:100,align:"center",render:function(t){return(0,c.jsx)("span",{style:{wordBreak:"break-all",wordWrap:"break-word"},children:t})}},{title:"\u65F6\u95F4",dataIndex:"actionTime",width:40,hideInTable:!0,align:"center",valueType:"dateRange",initialValue:[M()().add(0,"d"),M()().add(0,"d")],fieldProps:{allowClear:!1},search:{transform:function(t){var T=p()(t,2),_=T[0],g=T[1],W=typeof _=="string"?_:_.$d,I=typeof g=="string"?g:g.$d,L=new Date(W),B=new Date(I);return L.setHours(0),L.setMinutes(0),L.setSeconds(0),B.setHours(23),B.setMinutes(59),B.setSeconds(59),console.log(L,B),{startTime:L,endTime:B}}}},{title:"\u65F6\u95F4",dataIndex:"actionTime",width:140,align:"center",search:!1,render:function(t,T,_){return f.Z.date.format(new Date(t),"yyyy-MM-dd HH:mm:ss")}},{title:"\u884C\u4E3A",dataIndex:"actionType",width:80,align:"center",search:!0,valueType:"select",fieldProps:{options:Object.values(i.v9)}},{title:"\u5907\u6CE8",search:!0,dataIndex:"description",valueType:"userId",align:"center",width:80,render:function(t){return(0,c.jsxs)(x.Z,{content:(0,c.jsx)("p",{className:"table-txt-popover",children:t}),title:"\u5907\u6CE8",children:[" ",(0,c.jsx)(D.Z,{children:t})]})},onCell:r},{title:"\u8BFE\u7A0B\u540D",search:!1,dataIndex:"courseName",width:150,render:function(t){return(0,c.jsx)("span",{className:"table-txt",children:t})},onCell:r},{title:"\u8BFE\u5802",dataIndex:"courseClassName",search:!1,width:200,render:function(t){return(0,c.jsx)("span",{className:"table-txt",children:t})},onCell:r}],E=function(){return(0,c.jsx)(R._z,{children:(0,c.jsx)(b.Z,{className:"action-table",rowKey:"index",columns:s,search:{labelWidth:100,defaultCollapsed:!1},request:function(){var t=o()(a()().mark(function T(_){var g;return a()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if(console.log("\u8BF7\u6C42",_),!m){I.next=4;break}return m=!1,I.abrupt("return",d);case 4:return g=f.Z.obj.RemoveNulls(_),I.next=7,(0,O.N)(g);case 7:return d=I.sent,I.abrupt("return",d);case 9:case"end":return I.stop()}},T)}));return function(T){return t.apply(this,arguments)}}(),pagination:!0,defaultSize:"small",scroll:{x:"calc(".concat(scrollX,"px + 50%)")},onChange:function(T,_,g){(0,A.isEmpty)(g)||(m=!0)}})})},C=E},14653:function(v,n,e){"use strict";e.d(n,{N:function(){return R},w:function(){return x}});var u=e(97983),a=e.n(u),h=e(11281),o=e.n(h),y=e(40794),p=e.n(y),i=e(4638),f=e(63154),P=e(36275),O=e(30381),j=e.n(O);function R(M){return b.apply(this,arguments)}function b(){return b=p()(a()().mark(function M(D){return a()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",(0,P.request)("/analysis/api/room-actions/getRoomActionsWithTotalNumByConditionsTime",{params:o()(o()({clientId:385},D),{},{sort:"id,desc"})}).then(function(d){return{data:(0,f.we)(d.roomActionList,D),total:d.totalNum,success:!0}}));case 1:case"end":return m.stop()}},M)})),b.apply(this,arguments)}function x(M){return A.apply(this,arguments)}function A(){return A=p()(a()().mark(function M(D){var c,m,d;return a()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,P.request)("/analysis/api/room-actions/getRoomActionsWithTotalNumByConditionsTime",{params:o()(o()({clientId:385},D),{},{sort:"id,desc",actionType:i.v9.PLAYBACK.value})});case 2:return c=s.sent.totalNum,s.next=5,(0,P.request)("/analysis/api/room-actions/getRoomActionsWithTotalNumByConditionsTime",{params:o()(o()({clientId:385},D),{},{sort:"id,desc",actionType:i.v9.PLAYBACK.value,page:0,size:c})});case 5:return m=s.sent,d=$(m.roomActionList),s.abrupt("return",{data:(0,f.we)(d,D),total:d.length,success:!0});case 8:case"end":return s.stop()}},M)})),A.apply(this,arguments)}var $=function(){var D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],c=[];return D.forEach(function(m){var d=m.courseId,r=m.courseClassId,s=m.userId,E=m.description,C=c.findIndex(function(t){return t.courseId===d&&t.courseClassId===r&&t.userId===s}),l=parseInt(E);C<0?c.push(o()(o()({},m),{},{viewNum:1,description:l||0})):(c[C].viewNum++,c[C].description+=l||0)}),c}},57778:function(v,n,e){"use strict";e.d(n,{A5:function(){return A},ND:function(){return c},s4:function(){return M},tS:function(){return b}});var u=e(11281),a=e.n(u),h=e(97983),o=e.n(h),y=e(40794),p=e.n(y),i=e(63154),f=e(36275),P=e(30381),O=e.n(P),j=e(13714),R=e(14971);function b(){return x.apply(this,arguments)}function x(){return x=p()(o()().mark(function d(){return o()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,j.wA)().then(function(E){var C=E.data;return console.log(C),C.map(function(l){return{label:l.title||" ",value:l.roomId||" "}}).filter(function(l,t,T){return T.findIndex(function(_){return _.value===l.value})===t})}));case 1:case"end":return s.stop()}},d)})),x.apply(this,arguments)}function A(d){return $.apply(this,arguments)}function $(){return $=p()(o()().mark(function d(r){var s,E,C;return o()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s=typeof r.startTime=="string"?r.startTime:r.startTime.$d,E=typeof r.endTime=="string"?r.endTime:r.endTime.$d,C=a()(a()({clientId:385},r),{},{startTime:new Date(s).getTime(),endTime:new Date(E).getTime()}),t.abrupt("return",(0,f.request)("/analysis/api/room-timesget/getClientTimeByClientId",{params:C}));case 4:case"end":return t.stop()}},d)})),$.apply(this,arguments)}function M(d){return D.apply(this,arguments)}function D(){return D=p()(o()().mark(function d(r){var s,E;return o()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return s=typeof r.startTime=="string"?r.startTime:r.startTime.$d,E=typeof r.endTime=="string"?r.endTime:r.endTime.$d,l.abrupt("return",(0,f.request)("/analysis/api/room-timesget/getUserTimesWithTotalNumByConditions",{params:a()(a()({clientId:385},r),{},{sort:"startTime,desc",role:"student",startTime:new Date(s),endTime:new Date(E)})}).then(function(t){return{success:!0,total:t.totalNum,data:t.userTimeList}}));case 3:case"end":return l.stop()}},d)})),D.apply(this,arguments)}function c(d){return m.apply(this,arguments)}function m(){return m=p()(o()().mark(function d(r){var s,E;return o()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return s=typeof r.startTime=="string"?r.startTime:r.startTime.$d,E=typeof r.endTime=="string"?r.endTime:r.endTime.$d,l.abrupt("return",(0,f.request)("/analysis/api/studentRoomTimeDetailStatistics",{params:a()(a()({clientId:385},r),{},{startTime:R.Z.date.format(new Date(s),"yyyy-MM-dd"),endTime:R.Z.date.format(new Date(E),"yyyy-MM-dd")})}).then(function(t){var T=t.dayDetail.map(function(_){return a()(a()({},_),{},{times:_.info.length,duration:_.info.map(function(g){return g.timeLong}).reduce(function(g,W){return g+W},0)},Object.fromEntries(_.info.map(function(g){return[g.sumDay,g.timeLong]})))}).filter(function(_){return _.duration});return a()(a()({},t),{},{data:T,success:!0})}));case 3:case"end":return l.stop()}},d)})),m.apply(this,arguments)}},43263:function(v,n,e){"use strict";var u=e(76519),a=e(72834),h=e(82925),o=e(85893),y={common:{renderReactDOM:function(i){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},P=document.createElement("div"),O=f.id;if(O){var j=document.getElementById(O);j&&document.body.removeChild(j),P.setAttribute("id",O)}document.body.appendChild(P),a.render((0,o.jsx)(u.ZP,{locale:h.Z,children:i}),P)},closeModalContainer:function(i){var f=document.getElementById(i);f&&document.body.removeChild(f)},createModalContainer:function(i){y.common.closeModalContainer(i);var f=document.createElement("div");return f.setAttribute("id",i),document.body.appendChild(f),f}}}},82990:function(v,n,e){"use strict";var u=e(85893),a=function(o){var y=o.children,p=o.lineNum,i=p===void 0?1:p;return(0,u.jsx)("p",{style:{WebkitLineClamp:i,WebkitBoxOrient:"vertical",textOverflow:"ellipsis",wordBreak:"break-all",overflow:"hidden",display:"-webkit-box",whiteSpace:"normal",width:"100%"},children:y})};n.Z=a},80037:function(v,n,e){"use strict";var u=e(64836).default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=u(e(5584)),h=a.default;n.default=h},5584:function(v,n,e){"use strict";var u=e(64836).default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=u(e(10434)),h=u(e(53457)),o=u(e(15704)),y={lang:(0,a.default)({placeholder:"\u8BF7\u9009\u62E9\u65E5\u671F",yearPlaceholder:"\u8BF7\u9009\u62E9\u5E74\u4EFD",quarterPlaceholder:"\u8BF7\u9009\u62E9\u5B63\u5EA6",monthPlaceholder:"\u8BF7\u9009\u62E9\u6708\u4EFD",weekPlaceholder:"\u8BF7\u9009\u62E9\u5468",rangePlaceholder:["\u5F00\u59CB\u65E5\u671F","\u7ED3\u675F\u65E5\u671F"],rangeYearPlaceholder:["\u5F00\u59CB\u5E74\u4EFD","\u7ED3\u675F\u5E74\u4EFD"],rangeMonthPlaceholder:["\u5F00\u59CB\u6708\u4EFD","\u7ED3\u675F\u6708\u4EFD"],rangeQuarterPlaceholder:["\u5F00\u59CB\u5B63\u5EA6","\u7ED3\u675F\u5B63\u5EA6"],rangeWeekPlaceholder:["\u5F00\u59CB\u5468","\u7ED3\u675F\u5468"]},h.default),timePickerLocale:(0,a.default)({},o.default)};y.lang.ok="\u786E\u5B9A";var p=y;n.default=p},82925:function(v,n,e){"use strict";var u,a=e(64836).default;u={value:!0},n.Z=void 0;var h=a(e(54927)),o=a(e(80037)),y=a(e(5584)),p=a(e(15704)),i="${label}\u4E0D\u662F\u4E00\u4E2A\u6709\u6548\u7684${type}",f={locale:"zh-cn",Pagination:h.default,DatePicker:y.default,TimePicker:p.default,Calendar:o.default,global:{placeholder:"\u8BF7\u9009\u62E9"},Table:{filterTitle:"\u7B5B\u9009",filterConfirm:"\u786E\u5B9A",filterReset:"\u91CD\u7F6E",filterEmptyText:"\u65E0\u7B5B\u9009\u9879",filterCheckall:"\u5168\u9009",filterSearchPlaceholder:"\u5728\u7B5B\u9009\u9879\u4E2D\u641C\u7D22",selectAll:"\u5168\u9009\u5F53\u9875",selectInvert:"\u53CD\u9009\u5F53\u9875",selectNone:"\u6E05\u7A7A\u6240\u6709",selectionAll:"\u5168\u9009\u6240\u6709",sortTitle:"\u6392\u5E8F",expand:"\u5C55\u5F00\u884C",collapse:"\u5173\u95ED\u884C",triggerDesc:"\u70B9\u51FB\u964D\u5E8F",triggerAsc:"\u70B9\u51FB\u5347\u5E8F",cancelSort:"\u53D6\u6D88\u6392\u5E8F"},Modal:{okText:"\u786E\u5B9A",cancelText:"\u53D6\u6D88",justOkText:"\u77E5\u9053\u4E86"},Popconfirm:{cancelText:"\u53D6\u6D88",okText:"\u786E\u5B9A"},Transfer:{titles:["",""],searchPlaceholder:"\u8BF7\u8F93\u5165\u641C\u7D22\u5185\u5BB9",itemUnit:"\u9879",itemsUnit:"\u9879",remove:"\u5220\u9664",selectCurrent:"\u5168\u9009\u5F53\u9875",removeCurrent:"\u5220\u9664\u5F53\u9875",selectAll:"\u5168\u9009\u6240\u6709",removeAll:"\u5220\u9664\u5168\u90E8",selectInvert:"\u53CD\u9009\u5F53\u9875"},Upload:{uploading:"\u6587\u4EF6\u4E0A\u4F20\u4E2D",removeFile:"\u5220\u9664\u6587\u4EF6",uploadError:"\u4E0A\u4F20\u9519\u8BEF",previewFile:"\u9884\u89C8\u6587\u4EF6",downloadFile:"\u4E0B\u8F7D\u6587\u4EF6"},Empty:{description:"\u6682\u65E0\u6570\u636E"},Icon:{icon:"\u56FE\u6807"},Text:{edit:"\u7F16\u8F91",copy:"\u590D\u5236",copied:"\u590D\u5236\u6210\u529F",expand:"\u5C55\u5F00"},PageHeader:{back:"\u8FD4\u56DE"},Form:{optional:"\uFF08\u53EF\u9009\uFF09",defaultValidateMessages:{default:"\u5B57\u6BB5\u9A8C\u8BC1\u9519\u8BEF${label}",required:"\u8BF7\u8F93\u5165${label}",enum:"${label}\u5FC5\u987B\u662F\u5176\u4E2D\u4E00\u4E2A[${enum}]",whitespace:"${label}\u4E0D\u80FD\u4E3A\u7A7A\u5B57\u7B26",date:{format:"${label}\u65E5\u671F\u683C\u5F0F\u65E0\u6548",parse:"${label}\u4E0D\u80FD\u8F6C\u6362\u4E3A\u65E5\u671F",invalid:"${label}\u662F\u4E00\u4E2A\u65E0\u6548\u65E5\u671F"},types:{string:i,method:i,array:i,object:i,number:i,date:i,boolean:i,integer:i,float:i,regexp:i,email:i,url:i,hex:i},string:{len:"${label}\u987B\u4E3A${len}\u4E2A\u5B57\u7B26",min:"${label}\u6700\u5C11${min}\u4E2A\u5B57\u7B26",max:"${label}\u6700\u591A${max}\u4E2A\u5B57\u7B26",range:"${label}\u987B\u5728${min}-${max}\u5B57\u7B26\u4E4B\u95F4"},number:{len:"${label}\u5FC5\u987B\u7B49\u4E8E${len}",min:"${label}\u6700\u5C0F\u503C\u4E3A${min}",max:"${label}\u6700\u5927\u503C\u4E3A${max}",range:"${label}\u987B\u5728${min}-${max}\u4E4B\u95F4"},array:{len:"\u987B\u4E3A${len}\u4E2A${label}",min:"\u6700\u5C11${min}\u4E2A${label}",max:"\u6700\u591A${max}\u4E2A${label}",range:"${label}\u6570\u91CF\u987B\u5728${min}-${max}\u4E4B\u95F4"},pattern:{mismatch:"${label}\u4E0E\u6A21\u5F0F\u4E0D\u5339\u914D${pattern}"}}},Image:{preview:"\u9884\u89C8"}},P=f;n.Z=P},15704:function(v,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e={placeholder:"\u8BF7\u9009\u62E9\u65F6\u95F4",rangePlaceholder:["\u5F00\u59CB\u65F6\u95F4","\u7ED3\u675F\u65F6\u95F4"]},u=e;n.default=u},54927:function(v,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e={items_per_page:"\u6761/\u9875",jump_to:"\u8DF3\u81F3",jump_to_confirm:"\u786E\u5B9A",page:"\u9875",prev_page:"\u4E0A\u4E00\u9875",next_page:"\u4E0B\u4E00\u9875",prev_5:"\u5411\u524D 5 \u9875",next_5:"\u5411\u540E 5 \u9875",prev_3:"\u5411\u524D 3 \u9875",next_3:"\u5411\u540E 3 \u9875",page_size:"\u9875\u7801"};n.default=e},53457:function(v,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e={locale:"zh_CN",today:"\u4ECA\u5929",now:"\u6B64\u523B",backToToday:"\u8FD4\u56DE\u4ECA\u5929",ok:"\u786E\u5B9A",timeSelect:"\u9009\u62E9\u65F6\u95F4",dateSelect:"\u9009\u62E9\u65E5\u671F",weekSelect:"\u9009\u62E9\u5468",clear:"\u6E05\u9664",month:"\u6708",year:"\u5E74",previousMonth:"\u4E0A\u4E2A\u6708 (\u7FFB\u9875\u4E0A\u952E)",nextMonth:"\u4E0B\u4E2A\u6708 (\u7FFB\u9875\u4E0B\u952E)",monthSelect:"\u9009\u62E9\u6708\u4EFD",yearSelect:"\u9009\u62E9\u5E74\u4EFD",decadeSelect:"\u9009\u62E9\u5E74\u4EE3",yearFormat:"YYYY\u5E74",dayFormat:"D\u65E5",dateFormat:"YYYY\u5E74M\u6708D\u65E5",dateTimeFormat:"YYYY\u5E74M\u6708D\u65E5 HH\u65F6mm\u5206ss\u79D2",previousYear:"\u4E0A\u4E00\u5E74 (Control\u952E\u52A0\u5DE6\u65B9\u5411\u952E)",nextYear:"\u4E0B\u4E00\u5E74 (Control\u952E\u52A0\u53F3\u65B9\u5411\u952E)",previousDecade:"\u4E0A\u4E00\u5E74\u4EE3",nextDecade:"\u4E0B\u4E00\u5E74\u4EE3",previousCentury:"\u4E0A\u4E00\u4E16\u7EAA",nextCentury:"\u4E0B\u4E00\u4E16\u7EAA"},u=e;n.default=u},10434:function(v){function n(){return v.exports=n=Object.assign?Object.assign.bind():function(e){for(var u=1;u<arguments.length;u++){var a=arguments[u];for(var h in a)Object.prototype.hasOwnProperty.call(a,h)&&(e[h]=a[h])}return e},v.exports.__esModule=!0,v.exports.default=v.exports,n.apply(this,arguments)}v.exports=n,v.exports.__esModule=!0,v.exports.default=v.exports}}]);
