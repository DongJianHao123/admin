(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[986],{62670:function(v,n,e){"use strict";e.r(n),e.d(n,{default:function(){return E}});var d=e(97983),a=e.n(d),h=e(40794),s=e.n(h),C=e(12741),g=e.n(C),o=e(4638),f=e(14971),P=e(43263),O=e(14653),b=e(57778),R=e(8601),j=e(93056),A=e(55241),$=e(96486),x=e(30381),M=e.n(x),c=e(85893),y=!1,m=[],u=function(t,l){var T=t.dataLength;return T-1===l?{colSpan:0}:{}},r=[{title:"\u5E8F\u53F7",dataIndex:"index",valueType:"index",align:"center",width:10,onCell:u},{title:"\u8BFE\u7A0B",dataIndex:"roomId",hideInTable:!0,search:!0,valueType:"select",request:b.tS},{title:"\u8BFE\u7A0B",dataIndex:"roomId",align:"center",search:!1,width:50,render:function(t){return(0,c.jsx)("span",{style:{wordBreak:"break-all",wordWrap:"break-word"},children:t})}},{title:"\u59D3\u540D",dataIndex:"userName",search:!0,align:"center",width:40,onCell:function(t,l){var T=t.dataLength;if(T-1===l)return{colSpan:4}}},{title:"\u89D2\u8272",dataIndex:"role",search:!0,valueType:"select",width:30,align:"center",fieldProps:{options:[{label:"\u8001\u5E08",value:"teacher"},{label:"\u5B66\u751F",value:"student"},{label:"\u52A9\u6559",value:"ta"}]}},{title:"\u624B\u673A\u53F7",search:!0,dataIndex:"userId",width:55,align:"center",render:function(t){return(0,c.jsx)("span",{style:{wordBreak:"break-all",wordWrap:"break-word"},children:t})}},{title:"\u65F6\u95F4",dataIndex:"actionTime",width:40,hideInTable:!0,align:"center",valueType:"dateRange",initialValue:[M()().add(0,"d"),M()().add(0,"d")],fieldProps:{allowClear:!1},search:{transform:function(t){var l=g()(t,2),T=l[0],p=l[1],I=typeof T=="string"?T:T.$d,D=typeof p=="string"?p:p.$d,L=new Date(I),B=new Date(D);return L.setHours(0),L.setMinutes(0),L.setSeconds(0),B.setHours(23),B.setMinutes(59),B.setSeconds(59),console.log(L,B),{startTime:L,endTime:B}}}},{title:"\u65F6\u95F4",dataIndex:"actionTime",width:40,align:"center",search:!1,render:function(t,l,T){return f.Z.date.format(new Date(t),"yyyy-MM-dd HH:mm:ss")}},{title:"\u884C\u4E3A",dataIndex:"actionType",width:40,align:"center",search:!0,valueType:"select",fieldProps:{options:Object.values(o.v9)}},{title:"\u5907\u6CE8",search:!0,dataIndex:"description",valueType:"userId",align:"center",width:60,render:function(t){return(0,c.jsxs)(A.Z,{content:(0,c.jsx)("p",{className:"table-txt-popover",children:t}),title:"\u5907\u6CE8",children:[" ",(0,c.jsx)("span",{className:"table-txt",children:t})]})},onCell:u},{title:"\u8BFE\u7A0B\u540D",search:!1,dataIndex:"courseName",align:"center",width:120,render:function(t){return(0,c.jsx)("span",{className:"table-txt",children:t})},onCell:u},{title:"\u8BFE\u5802",dataIndex:"courseClassName",search:!1,align:"center",width:120,render:function(t){return(0,c.jsx)("span",{className:"table-txt",children:t})},onCell:u}],i=function(){return(0,c.jsx)(R._z,{children:(0,c.jsx)(j.Z,{className:"action-table",rowKey:"index",columns:r,search:{labelWidth:100,defaultCollapsed:!1},request:function(){var t=s()(a()().mark(function l(T){var p;return a()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(console.log("\u8BF7\u6C42",T),!y){D.next=4;break}return y=!1,D.abrupt("return",m);case 4:return p=f.Z.obj.RemoveNulls(T),D.next=7,(0,O.N)(p);case 7:return m=D.sent,D.abrupt("return",m);case 9:case"end":return D.stop()}},l)}));return function(l){return t.apply(this,arguments)}}(),pagination:!0,defaultSize:"small",scroll:{x:"calc(".concat(scrollX,"px + 50%)"),y:600},onChange:function(l,T,p){(0,$.isEmpty)(p)||(y=!0)}})})},E=i},14653:function(v,n,e){"use strict";e.d(n,{N:function(){return R},w:function(){return A}});var d=e(97983),a=e.n(d),h=e(11281),s=e.n(h),C=e(40794),g=e.n(C),o=e(4638),f=e(63154),P=e(36275),O=e(30381),b=e.n(O);function R(M){return j.apply(this,arguments)}function j(){return j=g()(a()().mark(function M(c){return a()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",(0,P.request)("/analysis/api/room-actions/getRoomActionsWithTotalNumByConditionsTime",{params:s()(s()({clientId:385},c),{},{sort:"id,desc"})}).then(function(u){return{data:(0,f.we)(u.roomActionList,c),total:u.totalNum,success:!0}}));case 1:case"end":return m.stop()}},M)})),j.apply(this,arguments)}function A(M){return $.apply(this,arguments)}function $(){return $=g()(a()().mark(function M(c){var y,m,u;return a()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,(0,P.request)("/analysis/api/room-actions/getRoomActionsWithTotalNumByConditionsTime",{params:s()(s()({clientId:385},c),{},{sort:"id,desc",actionType:o.v9.PLAYBACK.value})});case 2:return y=i.sent.totalNum,i.next=5,(0,P.request)("/analysis/api/room-actions/getRoomActionsWithTotalNumByConditionsTime",{params:s()(s()({clientId:385},c),{},{sort:"id,desc",actionType:o.v9.PLAYBACK.value,page:0,size:y})});case 5:return m=i.sent,u=x(m.roomActionList),i.abrupt("return",{data:(0,f.we)(u,c),total:u.length,success:!0});case 8:case"end":return i.stop()}},M)})),$.apply(this,arguments)}var x=function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],y=[];return c.forEach(function(m){var u=m.courseId,r=m.courseClassId,i=m.userId,E=m.description,_=y.findIndex(function(l){return l.courseId===u&&l.courseClassId===r&&l.userId===i}),t=parseInt(E);_<0?y.push(s()(s()({},m),{},{viewNum:1,description:t||0})):(y[_].viewNum++,y[_].description+=t||0)}),y}},57778:function(v,n,e){"use strict";e.d(n,{A5:function(){return $},ND:function(){return y},s4:function(){return M},tS:function(){return j}});var d=e(11281),a=e.n(d),h=e(97983),s=e.n(h),C=e(40794),g=e.n(C),o=e(63154),f=e(36275),P=e(30381),O=e.n(P),b=e(13714),R=e(14971);function j(){return A.apply(this,arguments)}function A(){return A=g()(s()().mark(function u(){return s()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,b.wA)().then(function(E){var _=E.data;return console.log(_),_.map(function(t){return{label:t.title||" ",value:t.roomId||" "}}).filter(function(t,l,T){return T.findIndex(function(p){return p.value===t.value})===l})}));case 1:case"end":return i.stop()}},u)})),A.apply(this,arguments)}function $(u){return x.apply(this,arguments)}function x(){return x=g()(s()().mark(function u(r){var i,E,_;return s()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return i=typeof r.startTime=="string"?r.startTime:r.startTime.$d,E=typeof r.endTime=="string"?r.endTime:r.endTime.$d,_=a()(a()({clientId:385},r),{},{startTime:new Date(i).getTime(),endTime:new Date(E).getTime()}),l.abrupt("return",(0,f.request)("/analysis/api/room-timesget/getClientTimeByClientId",{params:_}));case 4:case"end":return l.stop()}},u)})),x.apply(this,arguments)}function M(u){return c.apply(this,arguments)}function c(){return c=g()(s()().mark(function u(r){var i,E;return s()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=typeof r.startTime=="string"?r.startTime:r.startTime.$d,E=typeof r.endTime=="string"?r.endTime:r.endTime.$d,t.abrupt("return",(0,f.request)("/analysis/api/room-timesget/getUserTimesWithTotalNumByConditions",{params:a()(a()({clientId:385},r),{},{sort:"startTime,desc",role:"student",startTime:new Date(i),endTime:new Date(E)})}).then(function(l){return{success:!0,total:l.totalNum,data:l.userTimeList}}));case 3:case"end":return t.stop()}},u)})),c.apply(this,arguments)}function y(u){return m.apply(this,arguments)}function m(){return m=g()(s()().mark(function u(r){var i,E;return s()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=typeof r.startTime=="string"?r.startTime:r.startTime.$d,E=typeof r.endTime=="string"?r.endTime:r.endTime.$d,t.abrupt("return",(0,f.request)("/analysis/api/studentRoomTimeDetailStatistics",{params:a()(a()({clientId:385},r),{},{startTime:R.Z.date.format(new Date(i),"yyyy-MM-dd"),endTime:R.Z.date.format(new Date(E),"yyyy-MM-dd")})}).then(function(l){var T=l.dayDetail.map(function(p){return a()(a()({},p),{},{times:p.info.length,duration:p.info.map(function(I){return I.timeLong}).reduce(function(I,D){return I+D},0)},Object.fromEntries(p.info.map(function(I){return[I.sumDay,I.timeLong]})))}).filter(function(p){return p.duration});return a()(a()({},l),{},{data:T,success:!0})}));case 3:case"end":return t.stop()}},u)})),m.apply(this,arguments)}},43263:function(v,n,e){"use strict";var d=e(76519),a=e(72834),h=e(82925),s=e(85893),C={common:{renderReactDOM:function(o){var f=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},P=document.createElement("div"),O=f.id;if(O){var b=document.getElementById(O);b&&document.body.removeChild(b),P.setAttribute("id",O)}document.body.appendChild(P),a.render((0,s.jsx)(d.ZP,{locale:h.Z,children:o}),P)},closeModalContainer:function(o){var f=document.getElementById(o);f&&document.body.removeChild(f)},createModalContainer:function(o){C.common.closeModalContainer(o);var f=document.createElement("div");return f.setAttribute("id",o),document.body.appendChild(f),f}}}},80037:function(v,n,e){"use strict";var d=e(64836).default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=d(e(5584)),h=a.default;n.default=h},5584:function(v,n,e){"use strict";var d=e(64836).default;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=d(e(10434)),h=d(e(85369)),s=d(e(15704)),C={lang:(0,a.default)({placeholder:"\u8BF7\u9009\u62E9\u65E5\u671F",yearPlaceholder:"\u8BF7\u9009\u62E9\u5E74\u4EFD",quarterPlaceholder:"\u8BF7\u9009\u62E9\u5B63\u5EA6",monthPlaceholder:"\u8BF7\u9009\u62E9\u6708\u4EFD",weekPlaceholder:"\u8BF7\u9009\u62E9\u5468",rangePlaceholder:["\u5F00\u59CB\u65E5\u671F","\u7ED3\u675F\u65E5\u671F"],rangeYearPlaceholder:["\u5F00\u59CB\u5E74\u4EFD","\u7ED3\u675F\u5E74\u4EFD"],rangeMonthPlaceholder:["\u5F00\u59CB\u6708\u4EFD","\u7ED3\u675F\u6708\u4EFD"],rangeQuarterPlaceholder:["\u5F00\u59CB\u5B63\u5EA6","\u7ED3\u675F\u5B63\u5EA6"],rangeWeekPlaceholder:["\u5F00\u59CB\u5468","\u7ED3\u675F\u5468"]},h.default),timePickerLocale:(0,a.default)({},s.default)};C.lang.ok="\u786E\u5B9A";var g=C;n.default=g},82925:function(v,n,e){"use strict";var d,a=e(64836).default;d={value:!0},n.Z=void 0;var h=a(e(74219)),s=a(e(80037)),C=a(e(5584)),g=a(e(15704)),o="${label}\u4E0D\u662F\u4E00\u4E2A\u6709\u6548\u7684${type}",f={locale:"zh-cn",Pagination:h.default,DatePicker:C.default,TimePicker:g.default,Calendar:s.default,global:{placeholder:"\u8BF7\u9009\u62E9"},Table:{filterTitle:"\u7B5B\u9009",filterConfirm:"\u786E\u5B9A",filterReset:"\u91CD\u7F6E",filterEmptyText:"\u65E0\u7B5B\u9009\u9879",filterCheckall:"\u5168\u9009",filterSearchPlaceholder:"\u5728\u7B5B\u9009\u9879\u4E2D\u641C\u7D22",selectAll:"\u5168\u9009\u5F53\u9875",selectInvert:"\u53CD\u9009\u5F53\u9875",selectNone:"\u6E05\u7A7A\u6240\u6709",selectionAll:"\u5168\u9009\u6240\u6709",sortTitle:"\u6392\u5E8F",expand:"\u5C55\u5F00\u884C",collapse:"\u5173\u95ED\u884C",triggerDesc:"\u70B9\u51FB\u964D\u5E8F",triggerAsc:"\u70B9\u51FB\u5347\u5E8F",cancelSort:"\u53D6\u6D88\u6392\u5E8F"},Modal:{okText:"\u786E\u5B9A",cancelText:"\u53D6\u6D88",justOkText:"\u77E5\u9053\u4E86"},Popconfirm:{cancelText:"\u53D6\u6D88",okText:"\u786E\u5B9A"},Transfer:{titles:["",""],searchPlaceholder:"\u8BF7\u8F93\u5165\u641C\u7D22\u5185\u5BB9",itemUnit:"\u9879",itemsUnit:"\u9879",remove:"\u5220\u9664",selectCurrent:"\u5168\u9009\u5F53\u9875",removeCurrent:"\u5220\u9664\u5F53\u9875",selectAll:"\u5168\u9009\u6240\u6709",removeAll:"\u5220\u9664\u5168\u90E8",selectInvert:"\u53CD\u9009\u5F53\u9875"},Upload:{uploading:"\u6587\u4EF6\u4E0A\u4F20\u4E2D",removeFile:"\u5220\u9664\u6587\u4EF6",uploadError:"\u4E0A\u4F20\u9519\u8BEF",previewFile:"\u9884\u89C8\u6587\u4EF6",downloadFile:"\u4E0B\u8F7D\u6587\u4EF6"},Empty:{description:"\u6682\u65E0\u6570\u636E"},Icon:{icon:"\u56FE\u6807"},Text:{edit:"\u7F16\u8F91",copy:"\u590D\u5236",copied:"\u590D\u5236\u6210\u529F",expand:"\u5C55\u5F00"},PageHeader:{back:"\u8FD4\u56DE"},Form:{optional:"\uFF08\u53EF\u9009\uFF09",defaultValidateMessages:{default:"\u5B57\u6BB5\u9A8C\u8BC1\u9519\u8BEF${label}",required:"\u8BF7\u8F93\u5165${label}",enum:"${label}\u5FC5\u987B\u662F\u5176\u4E2D\u4E00\u4E2A[${enum}]",whitespace:"${label}\u4E0D\u80FD\u4E3A\u7A7A\u5B57\u7B26",date:{format:"${label}\u65E5\u671F\u683C\u5F0F\u65E0\u6548",parse:"${label}\u4E0D\u80FD\u8F6C\u6362\u4E3A\u65E5\u671F",invalid:"${label}\u662F\u4E00\u4E2A\u65E0\u6548\u65E5\u671F"},types:{string:o,method:o,array:o,object:o,number:o,date:o,boolean:o,integer:o,float:o,regexp:o,email:o,url:o,hex:o},string:{len:"${label}\u987B\u4E3A${len}\u4E2A\u5B57\u7B26",min:"${label}\u6700\u5C11${min}\u4E2A\u5B57\u7B26",max:"${label}\u6700\u591A${max}\u4E2A\u5B57\u7B26",range:"${label}\u987B\u5728${min}-${max}\u5B57\u7B26\u4E4B\u95F4"},number:{len:"${label}\u5FC5\u987B\u7B49\u4E8E${len}",min:"${label}\u6700\u5C0F\u503C\u4E3A${min}",max:"${label}\u6700\u5927\u503C\u4E3A${max}",range:"${label}\u987B\u5728${min}-${max}\u4E4B\u95F4"},array:{len:"\u987B\u4E3A${len}\u4E2A${label}",min:"\u6700\u5C11${min}\u4E2A${label}",max:"\u6700\u591A${max}\u4E2A${label}",range:"${label}\u6570\u91CF\u987B\u5728${min}-${max}\u4E4B\u95F4"},pattern:{mismatch:"${label}\u4E0E\u6A21\u5F0F\u4E0D\u5339\u914D${pattern}"}}},Image:{preview:"\u9884\u89C8"}},P=f;n.Z=P},15704:function(v,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e={placeholder:"\u8BF7\u9009\u62E9\u65F6\u95F4",rangePlaceholder:["\u5F00\u59CB\u65F6\u95F4","\u7ED3\u675F\u65F6\u95F4"]},d=e;n.default=d},74219:function(v,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e={items_per_page:"\u6761/\u9875",jump_to:"\u8DF3\u81F3",jump_to_confirm:"\u786E\u5B9A",page:"\u9875",prev_page:"\u4E0A\u4E00\u9875",next_page:"\u4E0B\u4E00\u9875",prev_5:"\u5411\u524D 5 \u9875",next_5:"\u5411\u540E 5 \u9875",prev_3:"\u5411\u524D 3 \u9875",next_3:"\u5411\u540E 3 \u9875",page_size:"\u9875\u7801"};n.default=e},85369:function(v,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e={locale:"zh_CN",today:"\u4ECA\u5929",now:"\u6B64\u523B",backToToday:"\u8FD4\u56DE\u4ECA\u5929",ok:"\u786E\u5B9A",timeSelect:"\u9009\u62E9\u65F6\u95F4",dateSelect:"\u9009\u62E9\u65E5\u671F",weekSelect:"\u9009\u62E9\u5468",clear:"\u6E05\u9664",month:"\u6708",year:"\u5E74",previousMonth:"\u4E0A\u4E2A\u6708 (\u7FFB\u9875\u4E0A\u952E)",nextMonth:"\u4E0B\u4E2A\u6708 (\u7FFB\u9875\u4E0B\u952E)",monthSelect:"\u9009\u62E9\u6708\u4EFD",yearSelect:"\u9009\u62E9\u5E74\u4EFD",decadeSelect:"\u9009\u62E9\u5E74\u4EE3",yearFormat:"YYYY\u5E74",dayFormat:"D\u65E5",dateFormat:"YYYY\u5E74M\u6708D\u65E5",dateTimeFormat:"YYYY\u5E74M\u6708D\u65E5 HH\u65F6mm\u5206ss\u79D2",previousYear:"\u4E0A\u4E00\u5E74 (Control\u952E\u52A0\u5DE6\u65B9\u5411\u952E)",nextYear:"\u4E0B\u4E00\u5E74 (Control\u952E\u52A0\u53F3\u65B9\u5411\u952E)",previousDecade:"\u4E0A\u4E00\u5E74\u4EE3",nextDecade:"\u4E0B\u4E00\u5E74\u4EE3",previousCentury:"\u4E0A\u4E00\u4E16\u7EAA",nextCentury:"\u4E0B\u4E00\u4E16\u7EAA"},d=e;n.default=d},10434:function(v){function n(){return v.exports=n=Object.assign?Object.assign.bind():function(e){for(var d=1;d<arguments.length;d++){var a=arguments[d];for(var h in a)Object.prototype.hasOwnProperty.call(a,h)&&(e[h]=a[h])}return e},v.exports.__esModule=!0,v.exports.default=v.exports,n.apply(this,arguments)}v.exports=n,v.exports.__esModule=!0,v.exports.default=v.exports}}]);
